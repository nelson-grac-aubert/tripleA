<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="template.css" rel="stylesheet" />
    <script src="https://bernii.github.io/gauge.js/dist/gauge.min.js"></script> <!-- script gauge TODO remove -->
    <script src="./script.js"></script> <!-- script js perso -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- besoin d'internet -->
    <meta http-equiv="refresh" content="30"> <!-- refresh every 30 sec -->
    <meta id="page-timestamp" name="timestamp" content="">
    <title>TripleA</title>
</head>
<body>
    <header>
        <h1>Dashboard</h1>
    </header>


    <main>
        <!-- Système -->
        <section id="system">
            <h2>Système</h2>
            <div class="card">
                <div>Nom de la machine : nelson-VMware-Virtual-Platform</div>
                <div>Système d'exploitation : Linux 6.14.0-36-generic</div>
                <div>Heure d'allumage : 2025-12-11 02:10:27</div>
                <div>Uptime : 07:00:16</div>
                <div>Nombre d'utilisateurs : 2</div>
            </div>
        </section>


        <!-- Réseau -->
        <section id="network">
            <h2>Réseau</h2>
            <div class="card">
                <div>Adresse principale : 192.168.8.139</div>
            </div>
        </section>


        <!-- CPU -->
        <section id="cpu">
            <h2>CPU</h2>
            <div class="card">
                <div>Nombre de cœurs : 2</div>
                <div>Fréquence : 2611.199 MHz</div>
                <div>Pourcentage d'utilisation : 13.3 %</div>
            </div>
            <div class="card">
                <h3>Charge système moyenne</h3><br>
                <div>Dernière minute : 8.98 %</div>
                <div>Dernières 5 minutes : 21.88 %</div>
                <div>Dernières 15 minutes : 21.24 %</div>
            </div>
        </section>


        <!-- Mémoire et stockage -->
        <section id="memory">
            <h2>Mémoire</h2>
            <div class="card">
                <div>RAM totale (GB) : 3.78</div>
                <div>RAM utilisée (GB) : 2.67</div>
                <div>Pourcentage (%) : 79.0</div>
            </div>
            <div class="card">
                <div>Stockage total (GB) : 14.66</div>
                <div>Stockage utilisé (GB) : 9.9</div>
                <div>Stockage utilisé (%) : 71.2</div>
            </div>
        </section>


        <!-- Processus -->
        <section id="process">
            <h2>Processus</h2>


            <div id="process_table_top3">
                <h3>Processus les plus gourmands</h3>
                <div class="card">
                    <ul>
                        <li><strong>RAM</strong></li>
                        <ol>
                            
                            <li>code (PID 30092) — RAM 14.4 %</li>
                            
                            <li>firefox (PID 32711) — RAM 12.3 %</li>
                            
                            <li>code (PID 29744) — RAM 9.4 %</li>
                            
                        </ol>
                        <li><strong>CPU</strong></li>
                        <ol>
                            
                            <li>gnome-shell (PID 2412) — CPU 2.9 %</li>
                            
                            <li>python3 (PID 30295) — CPU 2.9 %</li>
                            
                            <li>kworker/u513:3-events_unbound (PID 29057) — CPU 1.0 %</li>
                            
                        </ol>
                    </ul>
                </div>
            </div>
        </section>


        <!-- Fichiers -->
        <section id="files">
            <h2>Fichier</h2>
            <div>
                <h3>Dossier analysé : /home/nelson/Documents</h3>
                <table class="card">
                    <tr>
                        <th>Type de fichier</th>
                        <th>Nombre</th>
                        <th>Pourcentage</th>
                    </tr>
                    <tr>
                        <th>.txt</th>
                        <td>2</td>
                        <td>25.0 %</td>
                    </tr>
                    <tr>
                        <th>.py</th>
                        <td>3</td>
                        <td>37.5 %</td>
                    </tr>
                    <tr>
                        <th>.pdf</th>
                        <td>1</td>
                        <td>12.5 %</td>
                    </tr>
                    <tr>
                        <th>.jpg</th>
                        <td>2</td>
                        <td>25.0 %</td>
                    </tr>
                </table>
            </div>
            <canvas id="pie_chart" style="width:100%;max-width:200px"></canvas>
        </section>
    </main>


    <footer>
        <p id="timestamp"></p>
        <p>Version 1.0</p>
        <script>
            const now = new Date();
            document.getElementById("timestamp").textContent =
                "Dernière mise à jour : " + now.toLocaleString();
        </script>
    </footer>


    <!-- Pie chart (Chart.js) -->
    <script>
        const xValues = [".txt", ".py", ".pdf", ".jpg"];
        const yValues = [
            25.0,
            37.5,
            12.5,
            25.0
        ];
        const barColors = ["#E3E3E3", "#456882", "#234C6A", "#1B3C53"];


        const ctx = document.getElementById('pie_chart');


        new Chart(ctx, {
            type: "pie",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                }]
            },
            options: {
                plugins: {
                    legend: { display: true },
                    title: {
                        display: true,
                        text: "Pourcentage des fichiers dans le dossier",
                        font: { size: 16 }
                    }
                }
            }
        });
    </script>
</body>
</html>