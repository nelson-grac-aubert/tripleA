<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widtd=device-widtd, initial-scale=1.0">
    <link href="template.css" rel="stylesheet" />
    <script src="https://bernii.github.io/gauge.js/dist/gauge.min.js"></script> <!--script gauge-->
    <script src="./script.js"></script> <!--script config gauge-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0"></script> 
    <meta http-equiv="refresh" content="30">    <!--refresh every 30 sec-->
    <meta id="page-timestamp" name="timestamp" content=""> <!--meta tag for timestamp -->
    <title>TripleA</title>
</head>
<body>
    <header>
        <h1>Dashboard</h1>
        <p id="timestamp"></p><!--change to real timestamp-->
    </header>
    <main>
        <section id="system">
            <h2>Systeme</h2>
            <div>Nom de la machine : {{machine_name_placeholder}}</div>
            <div>systeme d'exploitation : {{operating_system_placeholder}}</div>
            <div>heure d'allumage : {{start_time_placeholder}}</div>
            <div>uptime : {{up_time_placeholder}}</div>
            <div>nombre d'utilisateur : {{user_count_placeholder}}</div>
        </section>
        <section id="cpu">
            <h2>CPU</h2>
            <div>Nombre de coeurs : {{cpu_heart_count_placeholder}}</div>
            <div>fréquence : {{cpu_frequency_placeholder}} MHz</div>
            <div>pourcentage d'utilisation : {{cpu_usage_percent_placeholder}} %</div>
            <canvas id="gauge_percent" widtd="auto" height="100"></canvas>
        </section>
        <section id="memory">
            <h2>Mémoire</h2>
            <div>RAM total : {{total_ram_bytes_placeholder}}bytes et {{total_ram_gb_placeholder}}GB</div>
            <div>RAM utilisée : {{used_ram_bytes_placeholder}}GB</div>
            <div>Pourcentage : {{used_ram_percent_placeholder}} %
            <canvas id="gauge_ram" widtd="auto" height="100"></canvas><!--canvas for gauge linked to script by id-->
            <canvas id="myChart" style="width:100%;max-width:700px"></canvas> 
        </div>
        </section>
        <section id="network">
            <h2>Réseau</h2>
            <div>adresse principale : {{ip_address_placeholder}}</div>
        </section>
        <section id="process">
            <h2>Processus</h2>
            <div id="process_">
                             
            </div>

            <div id="table_top3">
                <table>Processus les plus gourmands
                    <tr>
                        <th>Processus</th>
                        <th>CPU %</th>
                        <th>RAM %</th>
                    </tr>
                    <tr>
                        <td>{{most_demanding_processus_1_placeholder}}</td>
                        <td>{{running_processus_cpu_usage_1_placeholder}}</td>
                        <td>{{running_processus_ram_usage_1_placeholder}}</td>
                    </tr>
                    <tr>
                        <td>{{most_demanding_processus_2_placeholder}}</td>
                        <td>{{running_processus_cpu_usage_2_placeholder}}</td>
                        <td>{{running_processus_ram_usage_2_placeholder}}</td>
                    </tr>
                    <tr>
                        <td>{{most_demanding_processus_3_placeholder}}</td>
                        <td>{{running_processus_cpu_usage_3_placeholder}}</td>
                        <td>{{running_processus_ram_usage_3_placeholder}}</td>
                    </tr>
                </table>
            </div>
        </section>
        <section id="files">
            <h2>Fichier</h2> <!--TODO check if id is useful-->
            <div>Dossier analysé : {{analysed_directory_placeholder}}
            <table>
                <tr>
                    <th>type</th>
                    <th>nombre</th>
                    <th>%</th>
                </tr>
                <tr>
                    <th>.txt</th>
                    <td>{{number_txt_placholder}}</td>
                    <td>{{percent_txt_placholder}}</td>
                </tr>
                    <tr>
                    <th>.py</th>
                    <td>{{number_py_placholder}}</td>
                    <td>{{percent_py_placholder}}</td>
                </tr>
                    <tr>
                    <th>.pdf</th>
                    <td>{{number_pdf_placholder}}</td>
                    <td>{{percent_pdf_placholder}}</td>
                </tr>
                    <tr>
                    <th>.jpg</th>
                    <td>{{number_jpg_placholder}}</td>
                    <td>{{percent_jpg_placholder}}</td>
                </tr>
            </table>

            </div>
        </section>
    </main>

    <footer>
        <p>
            <a href="/pdf" target="_blank"><!--TODO working link-->
            <button id="button">Télécharger le Dashboard en PDF</button>
            </a>
        </p>

    </footer><!--TODO avec informations de génération--> 
</body>
</html>